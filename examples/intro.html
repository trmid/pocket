<!DOCTYPE html>
<html lang='en'>

<head>
    <title>Intro to Pockets</title>
    <meta charset="utf-8">
</head>

<body>

    <!-- Place to display the particles near the center of our defined area -->
    <h3>Particles Near (0.5, 0.5, 0.5):</h3>
    <p id="particles"></p>

    <!-- Script to add random particles to a Pocket -->
    <script type="module">

        import {Pocket, Particle} from "../pocket.js";

        window.onload = function () {

            // Create a new Pocket
            const pocket = new Pocket();

            // Add 1000 random particles within the bounds (0, 0, 0) and (1, 1, 1)
            for (let i = 0; i < 1000; i++) {

                // Put the random particle in the Pocket
                pocket.put(new Particle({
                    x: Math.random(),
                    y: Math.random(),
                    z: Math.random(),
                    radius: 0.05, // The radius of each particle
                    data: "Particle #" + i // Any additional data we want to store with the particle
                }));

            }

            // Search for all particles within a 0.05 radius of the center of our area
            const particles = pocket.search(0.05, { x: 0.5, y: 0.5, z: 0.5 });

            // Print the found particle data
            const elem = document.getElementById("particles");
            elem.innerHTML = "";
            particles.forEach(p => {
                elem.innerHTML += `${p.data} (x: ${p.x.toFixed(2)}, y: ${p.y.toFixed(2)}, z: ${p.z.toFixed(2)})<br>`;
            });

        }

    </script>

</body>

</html>